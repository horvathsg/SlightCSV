<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>SlightCSV: Introduction</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">SlightCSV
   </div>
   <div id="projectbrief">Simple and lightweight CSV parser library written in C++.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Introduction </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>SlightCSV is a CSV parser library written in C++. Its main purpose is to facilitate the programmatic processing of CSV files.</p>
<h2>Features</h2>
<ul>
<li>Customizable delimiter and escape characters.</li>
<li>Flexible character manipulation capabilities (stripping, replacement).</li>
<li>Automatic handling of macOS, Linux and Windows line endings.</li>
<li>Support for UTF-8 character encoding (parsing, character manipulation and BOM as well).</li>
<li>Query methods for getting cell, row and column data with template-based automatic type conversion capabilities.</li>
<li>Able to load large files (&gt; 1 GB) in reasonable time.</li>
<li>Custom exception classes inheriting from std::exception.</li>
</ul>
<h2>In addition</h2>
<ul>
<li>Detailed documentation (Doxygen).</li>
<li>Automated unit and integration testing (CppUTest, gcov, lcov).</li>
<li>Pre-compiled binaries for multiple platforms.</li>
<li>Example code.</li>
</ul>
<h1>Getting started</h1>
<h2>Operation</h2>
<p>After constructing the SlightCSV object (and before loading data from CSV file), parameters need to be set up through SlightCSV's setter methods. File loading and processing doesn't happen until triggering data loading through the API. If a mandatory parameter is not set, an exception will be thrown. After loading finished, data is accessible through data getter methods. Data may be unloaded later and the object can be resetted to its initial state. However, this is not mandatory as the library is only using dynamic memory with appropriate release technique (RAII).</p>
<h2>Dependencies</h2>
<p>SlightCSV has no external dependencies. However, the following tools are used in the build pipeline to support build management, code quality and documentation.</p>
<ul>
<li>CMake.</li>
<li>CppUTest.</li>
<li>gcov, lcov.</li>
<li>Doxygen.</li>
</ul>
<p>It is recommended to install those missing before proceeding.</p>
<h2>Platform</h2>
<p>Binaries for 32/64 bit Linux/Windows are supplied in the dist directory. At the present time, the development platform is Linux. While it is possible to build and use the library on other platforms, various stages of the build pipeline might fail because of missing headers and/or libraries (namely automated testing, documentation generation and code coverage report generation). Those issues may be resolved by building and/or installing missing components.</p>
<h2>Project structure</h2>
<p>The structure inside the project root directory is as follows.</p>
<ul>
<li>bin: demo application output directory.</li>
<li>build: build directory.</li>
<li>dist: distribution directory.</li>
<li>doc: Doxygen configuration and output directory.</li>
<li>inc: public header output directory.</li>
<li>lib: shared library output directory.</li>
<li>platform: platform toolchains directory.</li>
<li>src: library and demo application source directory.</li>
<li>test: unit and integration tests directory.</li>
</ul>
<p>In order to use the pre-built shared library, you need to include the public header (<a class="el" href="slightcsv_8hpp_source.html">slightcsv.hpp</a>) from inc and the library (libslightcsv.so or libslightcsv.dll on Windows) from lib.</p>
<h2>Usage</h2>
<h3>Using the supplied binaries</h3>
<p>Binaries for the following platforms are located in the dist directory:</p>
<ul>
<li>Linux 32 bit x86 (Linux32)</li>
<li>Linux 64 bit x86-64 (Linux64)</li>
<li>Windows 32 bit x86 (Windows32)</li>
<li>Windows 64 bit x86-64 (Windows64)</li>
</ul>
<p>Public header and documentation are also available in the dist folder. Using the library is a matter of including the public header in your source file(s) and linking your application to the appropriate platform binary.</p>
<h3>Building from source</h3>
<p>For building the library from source:</p>
<ul>
<li>Have dependencies installed and available in your environment.</li>
<li>Edit CMake config file (CMakeLists.txt) in test and set CppUTest path variables.</li>
<li>Run "cmake .. -DCMAKE_BUILD_TYPE=DEBUG" or "cmake .. -DCMAKE_BUILD_TYPE=RELEASE" in build directory for CMake to generate build configuration files. In DEBUG, the library is built with debug symbols included while in RELEASE, those are not present (RELEASE builds use compiler optimization as well).</li>
<li>Run "make clean" in build directory to cleanup.</li>
<li>Run "make" in build directory to build all artifacts. After issuing the command, artifacts are built and/or run in the following order: SlightCSV build, tests build, tests run, demo build. At the end of each stage, output files are placed in their respective target directories (shared library file in lib, public header file in inc/slightcsv and executable demo application in bin).</li>
<li>Install sections are commented out in CMake's config files. If you would like to use "make install", uncomment those rows and set target paths according to your preference.</li>
<li>Documentation may be generated by issuing command "make docs". Documentation is generated into the doc folder.</li>
<li>Code coverage report may be generated by issuing command "make codecov". Report index file can be found at: build/src/CMakeFiles/slightcsv.dir/codecov/index.html.</li>
</ul>
<h3>Code example</h3>
<p>The following simple example provides an overview of the usage of the library. For additional methods and parameters, please refer to the Doxygen documentation located in the distribution's doc folder.</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &quot;../../inc/slightcsv/slightcsv.hpp&quot;</span></div><div class="line"></div><div class="line"><span class="preprocessor">#include &lt;string&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;vector&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;set&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;map&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;iostream&gt;</span></div><div class="line"></div><div class="line"><span class="keyword">using</span> std::string;</div><div class="line"><span class="keyword">using</span> std::vector;</div><div class="line"><span class="keyword">using</span> std::set;</div><div class="line"><span class="keyword">using</span> std::pair;</div><div class="line"><span class="keyword">using</span> std::map;</div><div class="line"><span class="keyword">using</span> std::cout;</div><div class="line"><span class="keyword">using</span> std::endl;</div><div class="line"><span class="keyword">using</span> <a class="code" href="classutils_1_1SlightCSV.html">utils::SlightCSV</a>;</div><div class="line"></div><div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span> *argv[]) {</div><div class="line"></div><div class="line">    <span class="comment">// construct object</span></div><div class="line">    SlightCSV scsv;</div><div class="line"></div><div class="line">    <span class="comment">// set filename</span></div><div class="line">    scsv.<a class="code" href="classutils_1_1SlightCSV.html#aba4b71a4a4bfa2317985a1a9cd53fc85">setFileName</a>(<span class="stringliteral">&quot;../test/utf8_test.csv&quot;</span>);</div><div class="line"></div><div class="line">    <span class="comment">// set delimiter character (semicolon)</span></div><div class="line">    scsv.setSeparator(<span class="stringliteral">&quot;;&quot;</span>);</div><div class="line"></div><div class="line">    <span class="comment">// set escape character (double quote)</span></div><div class="line">    scsv.setEscape(<span class="stringliteral">&quot;\&quot;&quot;</span>);</div><div class="line"></div><div class="line">    <span class="comment">// set characters to be stripped (stip spaces and underscores)</span></div><div class="line">    set&lt;string&gt; to_strip;</div><div class="line">    to_strip.insert(<span class="stringliteral">&quot; &quot;</span>);</div><div class="line">    to_strip.insert(<span class="stringliteral">&quot;_&quot;</span>);</div><div class="line">    scsv.setStripChars(to_strip);</div><div class="line"></div><div class="line">    <span class="comment">// set characters to be replaced (replace &#39;a&#39; with &#39;b&#39; and &#39;c&#39; with &#39;d&#39;)</span></div><div class="line">    map&lt;string, string&gt; to_replace;</div><div class="line">    pair&lt;string, string&gt; to_replace1(<span class="stringliteral">&quot;a&quot;</span>, <span class="stringliteral">&quot;b&quot;</span>);</div><div class="line">    pair&lt;string, string&gt; to_replace2(<span class="stringliteral">&quot;c&quot;</span>, <span class="stringliteral">&quot;d&quot;</span>);</div><div class="line">    to_replace.insert(to_replace1);</div><div class="line">    to_replace.insert(to_replace2);</div><div class="line">    scsv.setReplaceChars(to_replace);</div><div class="line"></div><div class="line">    <span class="comment">// load data</span></div><div class="line">    scsv.loadData();</div><div class="line"></div><div class="line">    <span class="comment">// output entity counts</span></div><div class="line">    cout &lt;&lt; <span class="stringliteral">&quot;File contains &quot;</span> &lt;&lt; scsv.getColumnCount() &lt;&lt; <span class="stringliteral">&quot; columns.&quot;</span> &lt;&lt; endl;</div><div class="line">    cout &lt;&lt; <span class="stringliteral">&quot;File contains &quot;</span> &lt;&lt; scsv.getRowCount() &lt;&lt; <span class="stringliteral">&quot; rows.&quot;</span> &lt;&lt; endl;</div><div class="line">    cout &lt;&lt; <span class="stringliteral">&quot;Header count: &quot;</span> &lt;&lt; scsv.getHeaderCount() &lt;&lt; <span class="stringliteral">&quot; rows.&quot;</span> &lt;&lt; endl;</div><div class="line"></div><div class="line">    <span class="comment">// output row 1 (at index 0)</span></div><div class="line">    vector&lt;string&gt; row0;</div><div class="line">    scsv.getRow(row0, 0);</div><div class="line">    cout &lt;&lt; <span class="stringliteral">&quot;Row 1 is: &quot;</span> &lt;&lt; endl;</div><div class="line">    <span class="keywordflow">for</span> (vector&lt;string&gt;::iterator it = row0.begin(); it != row0.end(); ++it) {</div><div class="line">        cout &lt;&lt; *it &lt;&lt; <span class="stringliteral">&quot; &quot;</span>;</div><div class="line">    }</div><div class="line">    cout &lt;&lt; endl;</div><div class="line"></div><div class="line">    <span class="comment">// output row 2 (at index 1)</span></div><div class="line">    vector&lt;string&gt; row1;</div><div class="line">    scsv.getRow(row1, 1);</div><div class="line">    cout &lt;&lt; <span class="stringliteral">&quot;Row 2 is: &quot;</span> &lt;&lt; endl;</div><div class="line">    <span class="keywordflow">for</span> (vector&lt;string&gt;::iterator it = row1.begin(); it != row1.end(); ++it) {</div><div class="line">        cout &lt;&lt; *it &lt;&lt; <span class="stringliteral">&quot; &quot;</span>;</div><div class="line">    }</div><div class="line">    cout &lt;&lt; endl;</div><div class="line"></div><div class="line">    <span class="comment">// output column 1 (at index 0)</span></div><div class="line">    vector&lt;string&gt; column;</div><div class="line">    scsv.getColumn(column, 0);</div><div class="line">    cout &lt;&lt; <span class="stringliteral">&quot;Column 1 is: &quot;</span> &lt;&lt; endl;</div><div class="line">    <span class="keywordflow">for</span> (vector&lt;string&gt;::iterator it = column.begin(); it != column.end(); ++it) {</div><div class="line">        cout &lt;&lt; *it &lt;&lt; endl;</div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="comment">// reset object to initial state (before reuse, e.g. loading another file)</span></div><div class="line">    scsv.reset();</div><div class="line"></div><div class="line">}</div></div><!-- fragment --><h1>Future development</h1>
<p>Features to be implemented in the future:</p>
<ul>
<li>C++11 compliant multithreading for even faster processing.</li>
<li>Extended transformation and conversion support for rows and columns.</li>
</ul>
<p>Ideas, contributions, issues and comments are welcome! </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
